"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/files/[fileId]/mapping/route";
exports.ids = ["app/api/files/[fileId]/mapping/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&page=%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute.ts&appDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&page=%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute.ts&appDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_dushyantsingh_Documents_illuminate_rx_copy_src_app_api_files_fileId_mapping_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/files/[fileId]/mapping/route.ts */ \"(rsc)/./src/app/api/files/[fileId]/mapping/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/files/[fileId]/mapping/route\",\n        pathname: \"/api/files/[fileId]/mapping\",\n        filename: \"route\",\n        bundlePath: \"app/api/files/[fileId]/mapping/route\"\n    },\n    resolvedPagePath: \"/Users/dushyantsingh/Documents/illuminate-rx copy/src/app/api/files/[fileId]/mapping/route.ts\",\n    nextConfigOutput,\n    userland: _Users_dushyantsingh_Documents_illuminate_rx_copy_src_app_api_files_fileId_mapping_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/files/[fileId]/mapping/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZmaWxlcyUyRiU1QmZpbGVJZCU1RCUyRm1hcHBpbmclMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmZpbGVzJTJGJTVCZmlsZUlkJTVEJTJGbWFwcGluZyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmZpbGVzJTJGJTVCZmlsZUlkJTVEJTJGbWFwcGluZyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmR1c2h5YW50c2luZ2glMkZEb2N1bWVudHMlMkZpbGx1bWluYXRlLXJ4JTIwY29weSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZkdXNoeWFudHNpbmdoJTJGRG9jdW1lbnRzJTJGaWxsdW1pbmF0ZS1yeCUyMGNvcHkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkM7QUFDMUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waGFybWFjeS1iZW5lZml0cy1wbGF0Zm9ybS8/OWUxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvZHVzaHlhbnRzaW5naC9Eb2N1bWVudHMvaWxsdW1pbmF0ZS1yeCBjb3B5L3NyYy9hcHAvYXBpL2ZpbGVzL1tmaWxlSWRdL21hcHBpbmcvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZpbGVzL1tmaWxlSWRdL21hcHBpbmcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9maWxlcy9bZmlsZUlkXS9tYXBwaW5nXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9maWxlcy9bZmlsZUlkXS9tYXBwaW5nL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2R1c2h5YW50c2luZ2gvRG9jdW1lbnRzL2lsbHVtaW5hdGUtcnggY29weS9zcmMvYXBwL2FwaS9maWxlcy9bZmlsZUlkXS9tYXBwaW5nL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2ZpbGVzL1tmaWxlSWRdL21hcHBpbmcvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&page=%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute.ts&appDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/files/[fileId]/mapping/route.ts":
/*!*****************************************************!*\
  !*** ./src/app/api/files/[fileId]/mapping/route.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _types_file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/types/file */ \"(rsc)/./src/types/file.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n// File: src/app/api/files/[fileId]/mapping/route.ts\n\n\n\n\n\n// Validation schema for mapping request\nconst mappingSchema = zod__WEBPACK_IMPORTED_MODULE_3__.z.object({\n    mapping: zod__WEBPACK_IMPORTED_MODULE_3__.z.record(zod__WEBPACK_IMPORTED_MODULE_3__.z.string(), zod__WEBPACK_IMPORTED_MODULE_3__.z.string())\n});\nasync function GET(request, { params }) {\n    try {\n        const { fileId } = params;\n        if (!fileId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"File ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get the most recent active template for this file\n        const templateQuery = `\n      SELECT \n        tm.id as \"templateId\",\n        tm.template_name as \"templateName\",\n        tm.file_id as \"fileId\",\n        f.status,\n        f.processing_stage as \"processingStage\"\n      FROM template_mappings tm\n      JOIN claims_file_registry f ON f.file_id = tm.file_id\n      WHERE tm.file_id = $1 AND tm.is_active = true\n      ORDER BY tm.created_at DESC\n      LIMIT 1\n    `;\n        const templateResult = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(templateQuery, [\n            fileId\n        ]);\n        if (templateResult.rows.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                mappings: []\n            });\n        }\n        const template = templateResult.rows[0];\n        // Get all mappings for this template\n        const mappingsQuery = `\n      SELECT \n        mt.source_column as \"sourceColumn\",\n        mt.standard_field_id as \"standardFieldId\",\n        mt.transformation_rule as \"transformationRule\",\n        scf.field_name as \"fieldName\",\n        scf.display_name as \"displayName\",\n        scf.data_type as \"dataType\",\n        scf.requirement_level as \"requirementLevel\"\n      FROM mapping_templates mt\n      JOIN standard_claim_fields scf ON scf.id = mt.standard_field_id\n      WHERE mt.template_id = $1\n    `;\n        const mappingsResult = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(mappingsQuery, [\n            template.templateId\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            fileStatus: template.status,\n            processingStage: template.processingStage,\n            templateName: template.templateName,\n            mappings: mappingsResult.rows\n        });\n    } catch (error) {\n        console.error(\"Error fetching mappings:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch mappings\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request, { params }) {\n    try {\n        const { fileId } = params;\n        if (!fileId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"File ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate request body\n        const body = await request.json();\n        const validationResult = mappingSchema.safeParse(body);\n        if (!validationResult.success) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid request body\",\n                details: validationResult.error\n            }, {\n                status: 400\n            });\n        }\n        const { mapping } = validationResult.data;\n        // Start transaction\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"BEGIN\");\n        try {\n            // First check if a template already exists for this file\n            const existingTemplateQuery = `\n        SELECT id, template_name \n        FROM template_mappings \n        WHERE file_id = $1 AND is_active = true\n        ORDER BY created_at DESC\n        LIMIT 1\n      `;\n            const existingTemplate = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(existingTemplateQuery, [\n                fileId\n            ]);\n            let templateId;\n            let templateName;\n            if (existingTemplate.rows.length > 0) {\n                // Use existing template\n                templateId = existingTemplate.rows[0].id;\n                templateName = existingTemplate.rows[0].template_name;\n                // Delete existing mappings for this template\n                await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"DELETE FROM mapping_templates WHERE template_id = $1\", [\n                    templateId\n                ]);\n            } else {\n                // Create new template only if one doesn't exist\n                const { opportunity_id, product_id, original_filename } = (await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT opportunity_id, product_id, original_filename FROM claims_file_registry WHERE file_id = $1\", [\n                    fileId\n                ])).rows[0];\n                const timestamp = new Date().toISOString().replace(/[:.]/g, \"-\");\n                templateName = `${product_id}_${original_filename.split(\".\")[0]}_${timestamp}`;\n                templateId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(`\n          INSERT INTO template_mappings (\n            id, template_name, file_id, opportunity_id, product_id, is_active, created_by\n          ) VALUES ($1, $2, $3, $4, $5, true, $6)\n        `, [\n                    templateId,\n                    templateName,\n                    fileId,\n                    opportunity_id,\n                    product_id,\n                    \"system\"\n                ]);\n            }\n            // Insert new mappings\n            const mappingValues = Object.entries(mapping).map(([sourceColumn, standardFieldId])=>[\n                    (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                    templateId,\n                    sourceColumn,\n                    standardFieldId,\n                    null,\n                    \"system\" // created_by\n                ]);\n            if (mappingValues.length > 0) {\n                const mappingPlaceholders = mappingValues.map((_, i)=>`($${i * 6 + 1}, $${i * 6 + 2}, $${i * 6 + 3}, $${i * 6 + 4}, $${i * 6 + 5}, $${i * 6 + 6})`).join(\", \");\n                await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(`\n          INSERT INTO mapping_templates (\n            id, template_id, source_column, standard_field_id, transformation_rule, created_by\n          ) VALUES ${mappingPlaceholders}\n        `, mappingValues.flat());\n            }\n            // Update file status\n            const updateFileQuery = `\n        UPDATE claims_file_registry \n        SET \n          status = $1,\n          processing_stage = $2,\n          updated_at = CURRENT_TIMESTAMP,\n          updated_by = $3\n        WHERE file_id = $4\n        RETURNING \n          file_id as \"fileId\",\n          status,\n          processing_stage as \"processingStage\"\n      `;\n            const updatedFile = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(updateFileQuery, [\n                _types_file__WEBPACK_IMPORTED_MODULE_2__.FileStatus.MAPPED,\n                _types_file__WEBPACK_IMPORTED_MODULE_2__.ProcessingStage.MAPPING_COMPLETE,\n                \"system\",\n                fileId\n            ]);\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"COMMIT\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Mapping saved successfully\",\n                file: updatedFile.rows[0],\n                templateId,\n                templateName\n            });\n        } catch (error) {\n            await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"ROLLBACK\");\n            throw error;\n        }\n    } catch (error) {\n        console.error(\"Error saving mapping:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to save mapping\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9maWxlcy9bZmlsZUlkXS9tYXBwaW5nL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxvREFBb0Q7QUFDSTtBQUN2QjtBQUMwQjtBQUN2QjtBQUNaO0FBRXhCLHdDQUF3QztBQUN4QyxNQUFNTyxnQkFBZ0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDN0JDLFNBQVNILGtDQUFDQSxDQUFDSSxNQUFNLENBQUNKLGtDQUFDQSxDQUFDSyxNQUFNLElBQUlMLGtDQUFDQSxDQUFDSyxNQUFNO0FBQ3hDO0FBRU8sZUFBZUMsSUFDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBa0M7SUFFMUMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdEO1FBRW5CLElBQUksQ0FBQ0MsUUFBUTtZQUNYLE9BQU9mLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFzQixHQUMvQjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsb0RBQW9EO1FBQ3BELE1BQU1DLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7SUFZdkIsQ0FBQztRQUVELE1BQU1DLGlCQUFpQixNQUFNbkIsOENBQUtBLENBQUNrQixlQUFlO1lBQUNKO1NBQU87UUFFMUQsSUFBSUssZUFBZUMsSUFBSSxDQUFDQyxNQUFNLEtBQUssR0FBRztZQUNwQyxPQUFPdEIsa0ZBQVlBLENBQUNnQixJQUFJLENBQ3RCO2dCQUFFTyxVQUFVLEVBQUU7WUFBQztRQUVuQjtRQUVBLE1BQU1DLFdBQVdKLGVBQWVDLElBQUksQ0FBQyxFQUFFO1FBRXZDLHFDQUFxQztRQUNyQyxNQUFNSSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7O0lBWXZCLENBQUM7UUFFRCxNQUFNQyxpQkFBaUIsTUFBTXpCLDhDQUFLQSxDQUFDd0IsZUFBZTtZQUFDRCxTQUFTRyxVQUFVO1NBQUM7UUFFdkUsT0FBTzNCLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO1lBQ3ZCWSxZQUFZSixTQUFTTixNQUFNO1lBQzNCVyxpQkFBaUJMLFNBQVNLLGVBQWU7WUFDekNDLGNBQWNOLFNBQVNNLFlBQVk7WUFDbkNQLFVBQVVHLGVBQWVMLElBQUk7UUFDL0I7SUFFRixFQUFFLE9BQU9KLE9BQU87UUFDZGMsUUFBUWQsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMsT0FBT2pCLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTJCLEdBQ3BDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRU8sZUFBZWMsS0FDcEJuQixPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQWtDO0lBRTFDLElBQUk7UUFDRixNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHRDtRQUVuQixJQUFJLENBQUNDLFFBQVE7WUFDWCxPQUFPZixrRkFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBc0IsR0FDL0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHdCQUF3QjtRQUN4QixNQUFNZSxPQUFPLE1BQU1wQixRQUFRRyxJQUFJO1FBQy9CLE1BQU1rQixtQkFBbUIzQixjQUFjNEIsU0FBUyxDQUFDRjtRQUVqRCxJQUFJLENBQUNDLGlCQUFpQkUsT0FBTyxFQUFFO1lBQzdCLE9BQU9wQyxrRkFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQXdCb0IsU0FBU0gsaUJBQWlCakIsS0FBSztZQUFDLEdBQ2pFO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNLEVBQUVULE9BQU8sRUFBRSxHQUFHeUIsaUJBQWlCSSxJQUFJO1FBRXpDLG9CQUFvQjtRQUNwQixNQUFNckMsOENBQUtBLENBQUM7UUFFWixJQUFJO1lBQ0YseURBQXlEO1lBQ3pELE1BQU1zQyx3QkFBd0IsQ0FBQzs7Ozs7O01BTS9CLENBQUM7WUFFRCxNQUFNQyxtQkFBbUIsTUFBTXZDLDhDQUFLQSxDQUFDc0MsdUJBQXVCO2dCQUFDeEI7YUFBTztZQUNwRSxJQUFJWTtZQUNKLElBQUlHO1lBRUosSUFBSVUsaUJBQWlCbkIsSUFBSSxDQUFDQyxNQUFNLEdBQUcsR0FBRztnQkFDcEMsd0JBQXdCO2dCQUN4QkssYUFBYWEsaUJBQWlCbkIsSUFBSSxDQUFDLEVBQUUsQ0FBQ29CLEVBQUU7Z0JBQ3hDWCxlQUFlVSxpQkFBaUJuQixJQUFJLENBQUMsRUFBRSxDQUFDcUIsYUFBYTtnQkFFckQsNkNBQTZDO2dCQUM3QyxNQUFNekMsOENBQUtBLENBQ1Qsd0RBQ0E7b0JBQUMwQjtpQkFBVztZQUVoQixPQUFPO2dCQUNMLGdEQUFnRDtnQkFDaEQsTUFBTSxFQUFFZ0IsY0FBYyxFQUFFQyxVQUFVLEVBQUVDLGlCQUFpQixFQUFFLEdBQ3JELENBQUMsTUFBTTVDLDhDQUFLQSxDQUFDLHFHQUFxRztvQkFBQ2M7aUJBQU8sR0FBR00sSUFBSSxDQUFDLEVBQUU7Z0JBRXRJLE1BQU15QixZQUFZLElBQUlDLE9BQU9DLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFNBQVM7Z0JBQzVEbkIsZUFBZSxDQUFDLEVBQUVjLFdBQVcsQ0FBQyxFQUFFQyxrQkFBa0JLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRUosVUFBVSxDQUFDO2dCQUM5RW5CLGFBQWF0QixnREFBTUE7Z0JBRW5CLE1BQU1KLDhDQUFLQSxDQUFDLENBQUM7Ozs7UUFJYixDQUFDLEVBQUU7b0JBQUMwQjtvQkFBWUc7b0JBQWNmO29CQUFRNEI7b0JBQWdCQztvQkFBWTtpQkFBUztZQUM3RTtZQUVBLHNCQUFzQjtZQUN0QixNQUFNTyxnQkFBZ0JDLE9BQU9DLE9BQU8sQ0FBQzVDLFNBQVM2QyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBTTtvQkFDdEZuRCxnREFBTUE7b0JBQ05zQjtvQkFDQTRCO29CQUNBQztvQkFDQTtvQkFDQSxTQUFTLGFBQWE7aUJBQ3ZCO1lBRUQsSUFBSUwsY0FBYzdCLE1BQU0sR0FBRyxHQUFHO2dCQUM1QixNQUFNbUMsc0JBQXNCTixjQUFjRyxHQUFHLENBQUMsQ0FBQ0ksR0FBR0MsSUFDaEQsQ0FBQyxFQUFFLEVBQUVBLElBQUksSUFBSSxFQUFFLEdBQUcsRUFBRUEsSUFBSSxJQUFJLEVBQUUsR0FBRyxFQUFFQSxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUVBLElBQUksSUFBSSxFQUFFLEdBQUcsRUFBRUEsSUFBSSxJQUFJLEVBQUUsR0FBRyxFQUFFQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsRUFDNUZDLElBQUksQ0FBQztnQkFFUCxNQUFNM0QsOENBQUtBLENBQUMsQ0FBQzs7O21CQUdGLEVBQUV3RCxvQkFBb0I7UUFDakMsQ0FBQyxFQUFFTixjQUFjVSxJQUFJO1lBQ3ZCO1lBRUEscUJBQXFCO1lBQ3JCLE1BQU1DLGtCQUFrQixDQUFDOzs7Ozs7Ozs7Ozs7TUFZekIsQ0FBQztZQUVELE1BQU1DLGNBQWMsTUFBTTlELDhDQUFLQSxDQUFDNkQsaUJBQWlCO2dCQUMvQzVELG1EQUFVQSxDQUFDOEQsTUFBTTtnQkFDakI3RCx3REFBZUEsQ0FBQzhELGdCQUFnQjtnQkFDaEM7Z0JBQ0FsRDthQUNEO1lBRUQsTUFBTWQsOENBQUtBLENBQUM7WUFFWixPQUFPRCxrRkFBWUEsQ0FBQ2dCLElBQUksQ0FBQztnQkFDdkJrRCxTQUFTO2dCQUNUQyxNQUFNSixZQUFZMUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3pCTTtnQkFDQUc7WUFDRjtRQUVGLEVBQUUsT0FBT2IsT0FBTztZQUNkLE1BQU1oQiw4Q0FBS0EsQ0FBQztZQUNaLE1BQU1nQjtRQUNSO0lBRUYsRUFBRSxPQUFPQSxPQUFPO1FBQ2RjLFFBQVFkLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU9qQixrRkFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUF5QixHQUNsQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXJtYWN5LWJlbmVmaXRzLXBsYXRmb3JtLy4vc3JjL2FwcC9hcGkvZmlsZXMvW2ZpbGVJZF0vbWFwcGluZy9yb3V0ZS50cz9iM2VjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHNyYy9hcHAvYXBpL2ZpbGVzL1tmaWxlSWRdL21hcHBpbmcvcm91dGUudHNcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IEZpbGVTdGF0dXMsIFByb2Nlc3NpbmdTdGFnZSB9IGZyb20gJ0AvdHlwZXMvZmlsZSc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuXG4vLyBWYWxpZGF0aW9uIHNjaGVtYSBmb3IgbWFwcGluZyByZXF1ZXN0XG5jb25zdCBtYXBwaW5nU2NoZW1hID0gei5vYmplY3Qoe1xuICBtYXBwaW5nOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnN0cmluZygpKVxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBmaWxlSWQ6IHN0cmluZyB9IH1cbikge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZmlsZUlkIH0gPSBwYXJhbXM7XG5cbiAgICBpZiAoIWZpbGVJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRmlsZSBJRCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgYWN0aXZlIHRlbXBsYXRlIGZvciB0aGlzIGZpbGVcbiAgICBjb25zdCB0ZW1wbGF0ZVF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIFxuICAgICAgICB0bS5pZCBhcyBcInRlbXBsYXRlSWRcIixcbiAgICAgICAgdG0udGVtcGxhdGVfbmFtZSBhcyBcInRlbXBsYXRlTmFtZVwiLFxuICAgICAgICB0bS5maWxlX2lkIGFzIFwiZmlsZUlkXCIsXG4gICAgICAgIGYuc3RhdHVzLFxuICAgICAgICBmLnByb2Nlc3Npbmdfc3RhZ2UgYXMgXCJwcm9jZXNzaW5nU3RhZ2VcIlxuICAgICAgRlJPTSB0ZW1wbGF0ZV9tYXBwaW5ncyB0bVxuICAgICAgSk9JTiBjbGFpbXNfZmlsZV9yZWdpc3RyeSBmIE9OIGYuZmlsZV9pZCA9IHRtLmZpbGVfaWRcbiAgICAgIFdIRVJFIHRtLmZpbGVfaWQgPSAkMSBBTkQgdG0uaXNfYWN0aXZlID0gdHJ1ZVxuICAgICAgT1JERVIgQlkgdG0uY3JlYXRlZF9hdCBERVNDXG4gICAgICBMSU1JVCAxXG4gICAgYDtcblxuICAgIGNvbnN0IHRlbXBsYXRlUmVzdWx0ID0gYXdhaXQgcXVlcnkodGVtcGxhdGVRdWVyeSwgW2ZpbGVJZF0pO1xuICAgIFxuICAgIGlmICh0ZW1wbGF0ZVJlc3VsdC5yb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1hcHBpbmdzOiBbXSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVSZXN1bHQucm93c1swXTtcblxuICAgIC8vIEdldCBhbGwgbWFwcGluZ3MgZm9yIHRoaXMgdGVtcGxhdGVcbiAgICBjb25zdCBtYXBwaW5nc1F1ZXJ5ID0gYFxuICAgICAgU0VMRUNUIFxuICAgICAgICBtdC5zb3VyY2VfY29sdW1uIGFzIFwic291cmNlQ29sdW1uXCIsXG4gICAgICAgIG10LnN0YW5kYXJkX2ZpZWxkX2lkIGFzIFwic3RhbmRhcmRGaWVsZElkXCIsXG4gICAgICAgIG10LnRyYW5zZm9ybWF0aW9uX3J1bGUgYXMgXCJ0cmFuc2Zvcm1hdGlvblJ1bGVcIixcbiAgICAgICAgc2NmLmZpZWxkX25hbWUgYXMgXCJmaWVsZE5hbWVcIixcbiAgICAgICAgc2NmLmRpc3BsYXlfbmFtZSBhcyBcImRpc3BsYXlOYW1lXCIsXG4gICAgICAgIHNjZi5kYXRhX3R5cGUgYXMgXCJkYXRhVHlwZVwiLFxuICAgICAgICBzY2YucmVxdWlyZW1lbnRfbGV2ZWwgYXMgXCJyZXF1aXJlbWVudExldmVsXCJcbiAgICAgIEZST00gbWFwcGluZ190ZW1wbGF0ZXMgbXRcbiAgICAgIEpPSU4gc3RhbmRhcmRfY2xhaW1fZmllbGRzIHNjZiBPTiBzY2YuaWQgPSBtdC5zdGFuZGFyZF9maWVsZF9pZFxuICAgICAgV0hFUkUgbXQudGVtcGxhdGVfaWQgPSAkMVxuICAgIGA7XG5cbiAgICBjb25zdCBtYXBwaW5nc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5KG1hcHBpbmdzUXVlcnksIFt0ZW1wbGF0ZS50ZW1wbGF0ZUlkXSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZmlsZVN0YXR1czogdGVtcGxhdGUuc3RhdHVzLFxuICAgICAgcHJvY2Vzc2luZ1N0YWdlOiB0ZW1wbGF0ZS5wcm9jZXNzaW5nU3RhZ2UsXG4gICAgICB0ZW1wbGF0ZU5hbWU6IHRlbXBsYXRlLnRlbXBsYXRlTmFtZSxcbiAgICAgIG1hcHBpbmdzOiBtYXBwaW5nc1Jlc3VsdC5yb3dzXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtYXBwaW5nczonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBtYXBwaW5ncycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBmaWxlSWQ6IHN0cmluZyB9IH1cbikge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZmlsZUlkIH0gPSBwYXJhbXM7XG4gICAgXG4gICAgaWYgKCFmaWxlSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ZpbGUgSUQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IG1hcHBpbmdTY2hlbWEuc2FmZVBhcnNlKGJvZHkpO1xuICAgIFxuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHJlcXVlc3QgYm9keScsIGRldGFpbHM6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbWFwcGluZyB9ID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xuXG4gICAgLy8gU3RhcnQgdHJhbnNhY3Rpb25cbiAgICBhd2FpdCBxdWVyeSgnQkVHSU4nKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCBjaGVjayBpZiBhIHRlbXBsYXRlIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGZpbGVcbiAgICAgIGNvbnN0IGV4aXN0aW5nVGVtcGxhdGVRdWVyeSA9IGBcbiAgICAgICAgU0VMRUNUIGlkLCB0ZW1wbGF0ZV9uYW1lIFxuICAgICAgICBGUk9NIHRlbXBsYXRlX21hcHBpbmdzIFxuICAgICAgICBXSEVSRSBmaWxlX2lkID0gJDEgQU5EIGlzX2FjdGl2ZSA9IHRydWVcbiAgICAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDXG4gICAgICAgIExJTUlUIDFcbiAgICAgIGA7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4aXN0aW5nVGVtcGxhdGUgPSBhd2FpdCBxdWVyeShleGlzdGluZ1RlbXBsYXRlUXVlcnksIFtmaWxlSWRdKTtcbiAgICAgIGxldCB0ZW1wbGF0ZUlkO1xuICAgICAgbGV0IHRlbXBsYXRlTmFtZTtcblxuICAgICAgaWYgKGV4aXN0aW5nVGVtcGxhdGUucm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFVzZSBleGlzdGluZyB0ZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZUlkID0gZXhpc3RpbmdUZW1wbGF0ZS5yb3dzWzBdLmlkO1xuICAgICAgICB0ZW1wbGF0ZU5hbWUgPSBleGlzdGluZ1RlbXBsYXRlLnJvd3NbMF0udGVtcGxhdGVfbmFtZTtcbiAgICAgICAgXG4gICAgICAgIC8vIERlbGV0ZSBleGlzdGluZyBtYXBwaW5ncyBmb3IgdGhpcyB0ZW1wbGF0ZVxuICAgICAgICBhd2FpdCBxdWVyeShcbiAgICAgICAgICAnREVMRVRFIEZST00gbWFwcGluZ190ZW1wbGF0ZXMgV0hFUkUgdGVtcGxhdGVfaWQgPSAkMScsXG4gICAgICAgICAgW3RlbXBsYXRlSWRdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IHRlbXBsYXRlIG9ubHkgaWYgb25lIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgY29uc3QgeyBvcHBvcnR1bml0eV9pZCwgcHJvZHVjdF9pZCwgb3JpZ2luYWxfZmlsZW5hbWUgfSA9IFxuICAgICAgICAgIChhd2FpdCBxdWVyeSgnU0VMRUNUIG9wcG9ydHVuaXR5X2lkLCBwcm9kdWN0X2lkLCBvcmlnaW5hbF9maWxlbmFtZSBGUk9NIGNsYWltc19maWxlX3JlZ2lzdHJ5IFdIRVJFIGZpbGVfaWQgPSAkMScsIFtmaWxlSWRdKSkucm93c1swXTtcblxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICAgICAgICB0ZW1wbGF0ZU5hbWUgPSBgJHtwcm9kdWN0X2lkfV8ke29yaWdpbmFsX2ZpbGVuYW1lLnNwbGl0KCcuJylbMF19XyR7dGltZXN0YW1wfWA7XG4gICAgICAgIHRlbXBsYXRlSWQgPSB1dWlkdjQoKTtcblxuICAgICAgICBhd2FpdCBxdWVyeShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gdGVtcGxhdGVfbWFwcGluZ3MgKFxuICAgICAgICAgICAgaWQsIHRlbXBsYXRlX25hbWUsIGZpbGVfaWQsIG9wcG9ydHVuaXR5X2lkLCBwcm9kdWN0X2lkLCBpc19hY3RpdmUsIGNyZWF0ZWRfYnlcbiAgICAgICAgICApIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCB0cnVlLCAkNilcbiAgICAgICAgYCwgW3RlbXBsYXRlSWQsIHRlbXBsYXRlTmFtZSwgZmlsZUlkLCBvcHBvcnR1bml0eV9pZCwgcHJvZHVjdF9pZCwgJ3N5c3RlbSddKTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5zZXJ0IG5ldyBtYXBwaW5nc1xuICAgICAgY29uc3QgbWFwcGluZ1ZhbHVlcyA9IE9iamVjdC5lbnRyaWVzKG1hcHBpbmcpLm1hcCgoW3NvdXJjZUNvbHVtbiwgc3RhbmRhcmRGaWVsZElkXSkgPT4gKFtcbiAgICAgICAgdXVpZHY0KCksXG4gICAgICAgIHRlbXBsYXRlSWQsXG4gICAgICAgIHNvdXJjZUNvbHVtbixcbiAgICAgICAgc3RhbmRhcmRGaWVsZElkLFxuICAgICAgICBudWxsLCAvLyB0cmFuc2Zvcm1hdGlvbl9ydWxlXG4gICAgICAgICdzeXN0ZW0nIC8vIGNyZWF0ZWRfYnlcbiAgICAgIF0pKTtcblxuICAgICAgaWYgKG1hcHBpbmdWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBtYXBwaW5nUGxhY2Vob2xkZXJzID0gbWFwcGluZ1ZhbHVlcy5tYXAoKF8sIGkpID0+IFxuICAgICAgICAgIGAoJCR7aSAqIDYgKyAxfSwgJCR7aSAqIDYgKyAyfSwgJCR7aSAqIDYgKyAzfSwgJCR7aSAqIDYgKyA0fSwgJCR7aSAqIDYgKyA1fSwgJCR7aSAqIDYgKyA2fSlgXG4gICAgICAgICkuam9pbignLCAnKTtcblxuICAgICAgICBhd2FpdCBxdWVyeShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gbWFwcGluZ190ZW1wbGF0ZXMgKFxuICAgICAgICAgICAgaWQsIHRlbXBsYXRlX2lkLCBzb3VyY2VfY29sdW1uLCBzdGFuZGFyZF9maWVsZF9pZCwgdHJhbnNmb3JtYXRpb25fcnVsZSwgY3JlYXRlZF9ieVxuICAgICAgICAgICkgVkFMVUVTICR7bWFwcGluZ1BsYWNlaG9sZGVyc31cbiAgICAgICAgYCwgbWFwcGluZ1ZhbHVlcy5mbGF0KCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgZmlsZSBzdGF0dXNcbiAgICAgIGNvbnN0IHVwZGF0ZUZpbGVRdWVyeSA9IGBcbiAgICAgICAgVVBEQVRFIGNsYWltc19maWxlX3JlZ2lzdHJ5IFxuICAgICAgICBTRVQgXG4gICAgICAgICAgc3RhdHVzID0gJDEsXG4gICAgICAgICAgcHJvY2Vzc2luZ19zdGFnZSA9ICQyLFxuICAgICAgICAgIHVwZGF0ZWRfYXQgPSBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICB1cGRhdGVkX2J5ID0gJDNcbiAgICAgICAgV0hFUkUgZmlsZV9pZCA9ICQ0XG4gICAgICAgIFJFVFVSTklORyBcbiAgICAgICAgICBmaWxlX2lkIGFzIFwiZmlsZUlkXCIsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIHByb2Nlc3Npbmdfc3RhZ2UgYXMgXCJwcm9jZXNzaW5nU3RhZ2VcIlxuICAgICAgYDtcblxuICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSBhd2FpdCBxdWVyeSh1cGRhdGVGaWxlUXVlcnksIFtcbiAgICAgICAgRmlsZVN0YXR1cy5NQVBQRUQsXG4gICAgICAgIFByb2Nlc3NpbmdTdGFnZS5NQVBQSU5HX0NPTVBMRVRFLFxuICAgICAgICAnc3lzdGVtJyxcbiAgICAgICAgZmlsZUlkXG4gICAgICBdKTtcblxuICAgICAgYXdhaXQgcXVlcnkoJ0NPTU1JVCcpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnTWFwcGluZyBzYXZlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBmaWxlOiB1cGRhdGVkRmlsZS5yb3dzWzBdLFxuICAgICAgICB0ZW1wbGF0ZUlkLFxuICAgICAgICB0ZW1wbGF0ZU5hbWVcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IHF1ZXJ5KCdST0xMQkFDSycpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG1hcHBpbmc6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gc2F2ZSBtYXBwaW5nJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJxdWVyeSIsIkZpbGVTdGF0dXMiLCJQcm9jZXNzaW5nU3RhZ2UiLCJ2NCIsInV1aWR2NCIsInoiLCJtYXBwaW5nU2NoZW1hIiwib2JqZWN0IiwibWFwcGluZyIsInJlY29yZCIsInN0cmluZyIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJmaWxlSWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ0ZW1wbGF0ZVF1ZXJ5IiwidGVtcGxhdGVSZXN1bHQiLCJyb3dzIiwibGVuZ3RoIiwibWFwcGluZ3MiLCJ0ZW1wbGF0ZSIsIm1hcHBpbmdzUXVlcnkiLCJtYXBwaW5nc1Jlc3VsdCIsInRlbXBsYXRlSWQiLCJmaWxlU3RhdHVzIiwicHJvY2Vzc2luZ1N0YWdlIiwidGVtcGxhdGVOYW1lIiwiY29uc29sZSIsIlBPU1QiLCJib2R5IiwidmFsaWRhdGlvblJlc3VsdCIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJkZXRhaWxzIiwiZGF0YSIsImV4aXN0aW5nVGVtcGxhdGVRdWVyeSIsImV4aXN0aW5nVGVtcGxhdGUiLCJpZCIsInRlbXBsYXRlX25hbWUiLCJvcHBvcnR1bml0eV9pZCIsInByb2R1Y3RfaWQiLCJvcmlnaW5hbF9maWxlbmFtZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJlcGxhY2UiLCJzcGxpdCIsIm1hcHBpbmdWYWx1ZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwic291cmNlQ29sdW1uIiwic3RhbmRhcmRGaWVsZElkIiwibWFwcGluZ1BsYWNlaG9sZGVycyIsIl8iLCJpIiwiam9pbiIsImZsYXQiLCJ1cGRhdGVGaWxlUXVlcnkiLCJ1cGRhdGVkRmlsZSIsIk1BUFBFRCIsIk1BUFBJTkdfQ09NUExFVEUiLCJtZXNzYWdlIiwiZmlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/files/[fileId]/mapping/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkConnection: () => (/* binding */ checkConnection),\n/* harmony export */   healthCheck: () => (/* binding */ healthCheck),\n/* harmony export */   pool: () => (/* binding */ pool),\n/* harmony export */   query: () => (/* binding */ query)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n// File: src/lib/db/index.ts\n\n// Validate required environment variables\nconst requiredEnvVars = [\n    \"DB_USER\",\n    \"DB_PASSWORD\",\n    \"DB_HOST\",\n    \"DB_PORT\",\n    \"DB_NAME\",\n    \"DB_SCHEMA\"\n];\nrequiredEnvVars.forEach((envVar)=>{\n    if (!process.env[envVar]) {\n        console.error(`Missing required environment variable: ${envVar}`);\n    }\n});\nconst config = {\n    user: process.env.DB_USER,\n    password: process.env.DB_PASSWORD,\n    host: process.env.DB_HOST,\n    port: parseInt(process.env.DB_PORT || \"5432\"),\n    database: process.env.DB_NAME,\n    // Add schema to search path if specified\n    ...process.env.DB_SCHEMA && {\n        options: `-c search_path=${process.env.DB_SCHEMA}`\n    },\n    // Connection pool settings\n    max: 20,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 2000,\n    ssl: {\n        rejectUnauthorized: false // Required for AWS RDS connections\n    }\n};\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool(config);\n// Connection event handlers\npool.on(\"connect\", ()=>{\n    console.log(\"Connected to PostgreSQL database\");\n});\npool.on(\"error\", (err)=>{\n    console.error(\"Unexpected error on idle database client\", err);\n    process.exit(-1);\n});\n// Add connection testing function\nasync function checkConnection() {\n    let client;\n    try {\n        client = await pool.connect();\n        // Set schema for this connection\n        if (process.env.DB_SCHEMA) {\n            await client.query(`SET search_path TO ${process.env.DB_SCHEMA}`);\n        }\n        await client.query(\"SELECT NOW()\");\n        return true;\n    } catch (error) {\n        console.error(\"Database connection test failed:\", error);\n        return false;\n    } finally{\n        if (client) client.release();\n    }\n}\n// Improved query function with better error handling and schema setting\nasync function query(text, params) {\n    const client = await pool.connect();\n    try {\n        // Set schema for this connection\n        if (process.env.DB_SCHEMA) {\n            await client.query(`SET search_path TO ${process.env.DB_SCHEMA}`);\n        }\n        const start = Date.now();\n        const result = await client.query(text, params);\n        const duration = Date.now() - start;\n        // Log slow queries\n        if (duration > 1000) {\n            console.warn(\"Slow query:\", {\n                text,\n                duration,\n                rows: result.rowCount\n            });\n        }\n        return result;\n    } catch (error) {\n        if (error instanceof Error) {\n            console.error(\"Database query error:\", {\n                error: error.message,\n                query: text,\n                params\n            });\n        }\n        throw error;\n    } finally{\n        client.release();\n    }\n}\n// Health check function with more detailed diagnostics\nasync function healthCheck() {\n    try {\n        const result = await query(\"SELECT version(), current_database(), current_schema();\");\n        return {\n            isHealthy: true,\n            details: `Connected to ${result.rows[0].current_database} using schema ${result.rows[0].current_schema}`,\n            config: {\n                host: process.env.DB_HOST,\n                port: process.env.DB_PORT,\n                database: process.env.DB_NAME,\n                schema: process.env.DB_SCHEMA,\n                user: process.env.DB_USER\n            }\n        };\n    } catch (error) {\n        return {\n            isHealthy: false,\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        };\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQzFCekMsUUFBUUMsS0FBSyxDQUFDLHlCQUF5QjtnQkFDckNBLE9BQU9BLE1BQU15QyxPQUFPO2dCQUNwQmIsT0FBT0U7Z0JBQ1BDO1lBQ0Y7UUFDRjtRQUNBLE1BQU0vQjtJQUNSLFNBQVU7UUFDUjBCLE9BQU9HLE9BQU87SUFDaEI7QUFDRjtBQUVBLHVEQUF1RDtBQUNoRCxlQUFlYTtJQUtwQixJQUFJO1FBQ0YsTUFBTVAsU0FBUyxNQUFNUCxNQUFNO1FBQzNCLE9BQU87WUFDTGUsV0FBVztZQUNYQyxTQUFTLENBQUMsYUFBYSxFQUFFVCxPQUFPRyxJQUFJLENBQUMsRUFBRSxDQUFDTyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUVWLE9BQU9HLElBQUksQ0FBQyxFQUFFLENBQUNRLGNBQWMsQ0FBQyxDQUFDO1lBQ3hHN0MsUUFBUTtnQkFDTkssTUFBTVQsUUFBUUMsR0FBRyxDQUFDUyxPQUFPO2dCQUN6QkMsTUFBTVgsUUFBUUMsR0FBRyxDQUFDWSxPQUFPO2dCQUN6QkMsVUFBVWQsUUFBUUMsR0FBRyxDQUFDYyxPQUFPO2dCQUM3Qm1DLFFBQVFsRCxRQUFRQyxHQUFHLENBQUNlLFNBQVM7Z0JBQzdCWCxNQUFNTCxRQUFRQyxHQUFHLENBQUNLLE9BQU87WUFDM0I7UUFDRjtJQUNGLEVBQUUsT0FBT0gsT0FBTztRQUNkLE9BQU87WUFDTDJDLFdBQVc7WUFDWEMsU0FBUzVDLGlCQUFpQndDLFFBQVF4QyxNQUFNeUMsT0FBTyxHQUFHO1FBQ3BEO0lBQ0Y7QUFDRjtBQUVnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXJtYWN5LWJlbmVmaXRzLXBsYXRmb3JtLy4vc3JjL2xpYi9kYi9pbmRleC50cz81OGQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHNyYy9saWIvZGIvaW5kZXgudHNcbmltcG9ydCB7IFBvb2wsIFF1ZXJ5UmVzdWx0LCBRdWVyeVJlc3VsdFJvdyB9IGZyb20gJ3BnJztcblxuLy8gVmFsaWRhdGUgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCByZXF1aXJlZEVudlZhcnMgPSBbXG4gICdEQl9VU0VSJyxcbiAgJ0RCX1BBU1NXT1JEJyxcbiAgJ0RCX0hPU1QnLFxuICAnREJfUE9SVCcsXG4gICdEQl9OQU1FJyxcbiAgJ0RCX1NDSEVNQSdcbl07XG5cbnJlcXVpcmVkRW52VmFycy5mb3JFYWNoKGVudlZhciA9PiB7XG4gIGlmICghcHJvY2Vzcy5lbnZbZW52VmFyXSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGU6ICR7ZW52VmFyfWApO1xuICB9XG59KTtcblxuY29uc3QgY29uZmlnID0ge1xuICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXG4gIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQgfHwgJzU0MzInKSxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUsXG4gIC8vIEFkZCBzY2hlbWEgdG8gc2VhcmNoIHBhdGggaWYgc3BlY2lmaWVkXG4gIC4uLihwcm9jZXNzLmVudi5EQl9TQ0hFTUEgJiYge1xuICAgIG9wdGlvbnM6IGAtYyBzZWFyY2hfcGF0aD0ke3Byb2Nlc3MuZW52LkRCX1NDSEVNQX1gXG4gIH0pLFxuICAvLyBDb25uZWN0aW9uIHBvb2wgc2V0dGluZ3NcbiAgbWF4OiAyMCxcbiAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxuICBjb25uZWN0aW9uVGltZW91dE1pbGxpczogMjAwMCxcbiAgc3NsOiB7XG4gICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSAvLyBSZXF1aXJlZCBmb3IgQVdTIFJEUyBjb25uZWN0aW9uc1xuICB9XG59O1xuXG5jb25zdCBwb29sID0gbmV3IFBvb2woY29uZmlnKTtcblxuLy8gQ29ubmVjdGlvbiBldmVudCBoYW5kbGVyc1xucG9vbC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBQb3N0Z3JlU1FMIGRhdGFiYXNlJyk7XG59KTtcblxucG9vbC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3Igb24gaWRsZSBkYXRhYmFzZSBjbGllbnQnLCBlcnIpO1xuICBwcm9jZXNzLmV4aXQoLTEpO1xufSk7XG5cbi8vIEFkZCBjb25uZWN0aW9uIHRlc3RpbmcgZnVuY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0Nvbm5lY3Rpb24oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGxldCBjbGllbnQ7XG4gIHRyeSB7XG4gICAgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XG4gICAgLy8gU2V0IHNjaGVtYSBmb3IgdGhpcyBjb25uZWN0aW9uXG4gICAgaWYgKHByb2Nlc3MuZW52LkRCX1NDSEVNQSkge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBTRVQgc2VhcmNoX3BhdGggVE8gJHtwcm9jZXNzLmVudi5EQl9TQ0hFTUF9YCk7XG4gICAgfVxuICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUIE5PVygpJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChjbGllbnQpIGNsaWVudC5yZWxlYXNlKCk7XG4gIH1cbn1cblxuLy8gSW1wcm92ZWQgcXVlcnkgZnVuY3Rpb24gd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmcgYW5kIHNjaGVtYSBzZXR0aW5nXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnk8VCBleHRlbmRzIFF1ZXJ5UmVzdWx0Um93PihcbiAgdGV4dDogc3RyaW5nLFxuICBwYXJhbXM/OiBhbnlbXVxuKTogUHJvbWlzZTxRdWVyeVJlc3VsdDxUPj4ge1xuICBjb25zdCBjbGllbnQgPSBhd2FpdCBwb29sLmNvbm5lY3QoKTtcbiAgdHJ5IHtcbiAgICAvLyBTZXQgc2NoZW1hIGZvciB0aGlzIGNvbm5lY3Rpb25cbiAgICBpZiAocHJvY2Vzcy5lbnYuREJfU0NIRU1BKSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoYFNFVCBzZWFyY2hfcGF0aCBUTyAke3Byb2Nlc3MuZW52LkRCX1NDSEVNQX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5PFQ+KHRleHQsIHBhcmFtcyk7XG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgXG4gICAgLy8gTG9nIHNsb3cgcXVlcmllc1xuICAgIGlmIChkdXJhdGlvbiA+IDEwMDApIHtcbiAgICAgIGNvbnNvbGUud2FybignU2xvdyBxdWVyeTonLCB7IHRleHQsIGR1cmF0aW9uLCByb3dzOiByZXN1bHQucm93Q291bnQgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIHF1ZXJ5IGVycm9yOicsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHF1ZXJ5OiB0ZXh0LFxuICAgICAgICBwYXJhbXNcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGllbnQucmVsZWFzZSgpO1xuICB9XG59XG5cbi8vIEhlYWx0aCBjaGVjayBmdW5jdGlvbiB3aXRoIG1vcmUgZGV0YWlsZWQgZGlhZ25vc3RpY3NcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoZWFsdGhDaGVjaygpOiBQcm9taXNlPHsgXG4gIGlzSGVhbHRoeTogYm9vbGVhbjsgXG4gIGRldGFpbHM6IHN0cmluZztcbiAgY29uZmlnPzogYW55O1xufT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KCdTRUxFQ1QgdmVyc2lvbigpLCBjdXJyZW50X2RhdGFiYXNlKCksIGN1cnJlbnRfc2NoZW1hKCk7Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSGVhbHRoeTogdHJ1ZSxcbiAgICAgIGRldGFpbHM6IGBDb25uZWN0ZWQgdG8gJHtyZXN1bHQucm93c1swXS5jdXJyZW50X2RhdGFiYXNlfSB1c2luZyBzY2hlbWEgJHtyZXN1bHQucm93c1swXS5jdXJyZW50X3NjaGVtYX1gLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsXG4gICAgICAgIHBvcnQ6IHByb2Nlc3MuZW52LkRCX1BPUlQsXG4gICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgICAgICBzY2hlbWE6IHByb2Nlc3MuZW52LkRCX1NDSEVNQSxcbiAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUlxuICAgICAgfVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSGVhbHRoeTogZmFsc2UsXG4gICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHsgcG9vbCB9O1xuZXhwb3J0IHR5cGUgeyBRdWVyeVJlc3VsdCwgUXVlcnlSZXN1bHRSb3cgfTsiXSwibmFtZXMiOlsiUG9vbCIsInJlcXVpcmVkRW52VmFycyIsImZvckVhY2giLCJlbnZWYXIiLCJwcm9jZXNzIiwiZW52IiwiY29uc29sZSIsImVycm9yIiwiY29uZmlnIiwidXNlciIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiaG9zdCIsIkRCX0hPU1QiLCJwb3J0IiwicGFyc2VJbnQiLCJEQl9QT1JUIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwiREJfU0NIRU1BIiwib3B0aW9ucyIsIm1heCIsImlkbGVUaW1lb3V0TWlsbGlzIiwiY29ubmVjdGlvblRpbWVvdXRNaWxsaXMiLCJzc2wiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJwb29sIiwib24iLCJsb2ciLCJlcnIiLCJleGl0IiwiY2hlY2tDb25uZWN0aW9uIiwiY2xpZW50IiwiY29ubmVjdCIsInF1ZXJ5IiwicmVsZWFzZSIsInRleHQiLCJwYXJhbXMiLCJzdGFydCIsIkRhdGUiLCJub3ciLCJyZXN1bHQiLCJkdXJhdGlvbiIsIndhcm4iLCJyb3dzIiwicm93Q291bnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJoZWFsdGhDaGVjayIsImlzSGVhbHRoeSIsImRldGFpbHMiLCJjdXJyZW50X2RhdGFiYXNlIiwiY3VycmVudF9zY2hlbWEiLCJzY2hlbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/file.ts":
/*!***************************!*\
  !*** ./src/types/file.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileStatus: () => (/* binding */ FileStatus),\n/* harmony export */   ProcessingStage: () => (/* binding */ ProcessingStage),\n/* harmony export */   canProcessFile: () => (/* binding */ canProcessFile),\n/* harmony export */   getFileStatusDisplay: () => (/* binding */ getFileStatusDisplay),\n/* harmony export */   getProcessingStageDisplay: () => (/* binding */ getProcessingStageDisplay),\n/* harmony export */   isFileAvailableForMapping: () => (/* binding */ isFileAvailableForMapping),\n/* harmony export */   isFileProcessingComplete: () => (/* binding */ isFileProcessingComplete),\n/* harmony export */   isValidStageTransition: () => (/* binding */ isValidStageTransition),\n/* harmony export */   isValidStatusTransition: () => (/* binding */ isValidStatusTransition),\n/* harmony export */   validStageTransitions: () => (/* binding */ validStageTransitions),\n/* harmony export */   validStatusTransitions: () => (/* binding */ validStatusTransitions)\n/* harmony export */ });\n// File: src/types/file.ts\n/**\n * Represents a file record in the system\n */ var FileStatus;\n(function(FileStatus) {\n    FileStatus[\"PENDING\"] = \"PENDING\";\n    FileStatus[\"PROCESSING\"] = \"PROCESSING\";\n    FileStatus[\"MAPPED\"] = \"MAPPED\";\n    FileStatus[\"ERROR\"] = \"ERROR\";\n    FileStatus[\"PROCESSING_CLAIMS\"] = \"PROCESSING_CLAIMS\";\n    FileStatus[\"PROCESSED\"] = \"PROCESSED\";\n    FileStatus[\"ENRICHED\"] = \"ENRICHED\"; // File has been enriched with additional data\n})(FileStatus || (FileStatus = {}));\nvar ProcessingStage;\n(function(ProcessingStage) {\n    ProcessingStage[\"READY_FOR_MAPPING\"] = \"READY_FOR_MAPPING\";\n    ProcessingStage[\"MAPPING_IN_PROGRESS\"] = \"MAPPING_IN_PROGRESS\";\n    ProcessingStage[\"MAPPING_COMPLETE\"] = \"MAPPING_COMPLETE\";\n    ProcessingStage[\"CLAIMS_PROCESSING\"] = \"CLAIMS_PROCESSING\";\n    ProcessingStage[\"CLAIMS_PROCESSED\"] = \"CLAIMS_PROCESSED\";\n    ProcessingStage[\"PROCESSED\"] = \"PROCESSED\"; // File is fully processed\n})(ProcessingStage || (ProcessingStage = {}));\n/**\n * Defines valid transitions between processing stages\n */ const validStageTransitions = {\n    [\"READY_FOR_MAPPING\"]: [\n        \"MAPPING_IN_PROGRESS\"\n    ],\n    [\"MAPPING_IN_PROGRESS\"]: [\n        \"MAPPING_COMPLETE\",\n        \"READY_FOR_MAPPING\"\n    ],\n    [\"MAPPING_COMPLETE\"]: [\n        \"CLAIMS_PROCESSING\",\n        \"MAPPING_IN_PROGRESS\"\n    ],\n    [\"CLAIMS_PROCESSING\"]: [\n        \"CLAIMS_PROCESSED\",\n        \"MAPPING_COMPLETE\"\n    ],\n    [\"CLAIMS_PROCESSED\"]: [\n        \"PROCESSED\"\n    ],\n    [\"PROCESSED\"]: [] // No further transitions allowed\n};\n/**\n * Defines valid transitions between file statuses\n */ const validStatusTransitions = {\n    [\"PENDING\"]: [\n        \"PROCESSING\"\n    ],\n    [\"PROCESSING\"]: [\n        \"MAPPED\",\n        \"ERROR\"\n    ],\n    [\"MAPPED\"]: [\n        \"PROCESSING_CLAIMS\",\n        \"ERROR\"\n    ],\n    [\"PROCESSING_CLAIMS\"]: [\n        \"PROCESSED\",\n        \"ERROR\"\n    ],\n    [\"PROCESSED\"]: [\n        \"ENRICHED\",\n        \"ERROR\"\n    ],\n    [\"ENRICHED\"]: [\n        \"PROCESSED\",\n        \"ERROR\"\n    ],\n    [\"ERROR\"]: [\n        \"PROCESSING\",\n        \"PROCESSING_CLAIMS\",\n        \"PROCESSED\"\n    ]\n};\n/**\n * Type guard to check if a stage transition is valid\n */ function isValidStageTransition(currentStage, newStage) {\n    return validStageTransitions[currentStage]?.includes(newStage) ?? false;\n}\n/**\n * Type guard to check if a status transition is valid\n */ function isValidStatusTransition(currentStatus, newStatus) {\n    return validStatusTransitions[currentStatus]?.includes(newStatus) ?? false;\n}\n/**\n * Helper function to determine if a file should be shown in mapping tab\n */ function isFileAvailableForMapping(file) {\n    const validCombinations = [\n        {\n            status: \"PENDING\",\n            stage: \"READY_FOR_MAPPING\"\n        },\n        {\n            status: \"PROCESSING\",\n            stage: \"MAPPING_IN_PROGRESS\"\n        },\n        {\n            status: \"MAPPED\",\n            stage: \"MAPPING_COMPLETE\"\n        },\n        {\n            status: \"ERROR\",\n            stage: \"MAPPING_IN_PROGRESS\"\n        }\n    ];\n    return validCombinations.some((combo)=>combo.status === file.status && combo.stage === file.processingStage);\n}\n/**\n * Helper function to determine if a file is in a final state\n */ function isFileProcessingComplete(file) {\n    return file.status === \"PROCESSED\" && file.processingStage === \"PROCESSED\";\n}\n/**\n * Helper function to determine if a file can be processed\n */ function canProcessFile(file) {\n    return file.status === \"MAPPED\" && file.processingStage === \"MAPPING_COMPLETE\";\n}\n/**\n * Helper function to get display text for file status\n */ function getFileStatusDisplay(status) {\n    const displayMap = {\n        [\"PENDING\"]: \"Pending\",\n        [\"PROCESSING\"]: \"Processing\",\n        [\"MAPPED\"]: \"Mapped\",\n        [\"ERROR\"]: \"Error\",\n        [\"PROCESSING_CLAIMS\"]: \"Processing Claims\",\n        [\"PROCESSED\"]: \"Processed\",\n        [\"ENRICHED\"]: \"Enriched\"\n    };\n    return displayMap[status] || status;\n}\n/**\n * Helper function to get display text for processing stage\n */ function getProcessingStageDisplay(stage) {\n    const displayMap = {\n        [\"READY_FOR_MAPPING\"]: \"Ready for Mapping\",\n        [\"MAPPING_IN_PROGRESS\"]: \"Mapping in Progress\",\n        [\"MAPPING_COMPLETE\"]: \"Mapping Complete\",\n        [\"CLAIMS_PROCESSING\"]: \"Processing Claims\",\n        [\"CLAIMS_PROCESSED\"]: \"Claims Processed\",\n        [\"PROCESSED\"]: \"Processed\"\n    };\n    return displayMap[stage] || stage;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvZmlsZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLDBCQUEwQjtBQUUxQjs7Q0FFQztVQXNCV0E7Ozs7Ozs7eUNBT3lCLDhDQUE4QztHQVB2RUEsZUFBQUE7O1VBYUFDOzs7Ozs7Z0RBTXVDLDBCQUEwQjtHQU5qRUEsb0JBQUFBO0FBU1o7O0NBRUMsR0FDTSxNQUFNQyx3QkFBb0U7SUFDL0UscUJBQW1DLEVBQUU7O0tBRXBDO0lBQ0QsdUJBQXFDLEVBQUU7OztLQUd0QztJQUNELG9CQUFrQyxFQUFFOzs7S0FHbkM7SUFDRCxxQkFBbUMsRUFBRTs7O0tBR3BDO0lBQ0Qsb0JBQWtDLEVBQUU7O0tBRW5DO0lBQ0QsYUFBMkIsRUFBRSxFQUFFLENBQUUsaUNBQWlDO0FBQ3BFLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1DLHlCQUEyRDtJQUN0RSxXQUFvQixFQUFFOztLQUVyQjtJQUNELGNBQXVCLEVBQUU7OztLQUd4QjtJQUNELFVBQW1CLEVBQUU7OztLQUdwQjtJQUNELHFCQUE4QixFQUFFOzs7S0FHL0I7SUFDRCxhQUFzQixFQUFFOzs7S0FHdkI7SUFDRCxZQUFxQixFQUFFOzs7S0FHdEI7SUFDRCxTQUFrQixFQUFFOzs7O0tBSW5CO0FBQ0gsRUFBRTtBQUVGOztDQUVDLEdBQ00sU0FBU0MsdUJBQ2RDLFlBQTZCLEVBQzdCQyxRQUF5QjtJQUV6QixPQUFPSixxQkFBcUIsQ0FBQ0csYUFBYSxFQUFFRSxTQUFTRCxhQUFhO0FBQ3BFO0FBRUE7O0NBRUMsR0FDTSxTQUFTRSx3QkFDZEMsYUFBeUIsRUFDekJDLFNBQXFCO0lBRXJCLE9BQU9QLHNCQUFzQixDQUFDTSxjQUFjLEVBQUVGLFNBQVNHLGNBQWM7QUFDdkU7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLDBCQUEwQkMsSUFBZ0I7SUFDeEQsTUFBTUMsb0JBQW9CO1FBQ3hCO1lBQUVDLE1BQU07WUFBc0JDLEtBQUs7UUFBb0M7UUFDdkU7WUFBRUQsTUFBTTtZQUF5QkMsS0FBSztRQUFzQztRQUM1RTtZQUFFRCxNQUFNO1lBQXFCQyxLQUFLO1FBQW1DO1FBQ3JFO1lBQUVELE1BQU07WUFBb0JDLEtBQUs7UUFBc0M7S0FDeEU7SUFFRCxPQUFPRixrQkFBa0JHLElBQUksQ0FDM0JDLENBQUFBLFFBQVNBLE1BQU1ILE1BQU0sS0FBS0YsS0FBS0UsTUFBTSxJQUFJRyxNQUFNRixLQUFLLEtBQUtILEtBQUtNLGVBQWU7QUFFakY7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLHlCQUF5QlAsSUFBZ0I7SUFDdkQsT0FBT0EsS0FBS0UsTUFBTSxvQkFDWEYsS0FBS00sZUFBZTtBQUM3QjtBQUVBOztDQUVDLEdBQ00sU0FBU0UsZUFBZVIsSUFBZ0I7SUFDN0MsT0FBT0EsS0FBS0UsTUFBTSxpQkFDWEYsS0FBS00sZUFBZTtBQUM3QjtBQUVBOztDQUVDLEdBQ00sU0FBU0cscUJBQXFCUCxNQUFrQjtJQUNyRCxNQUFNUSxhQUF5QztRQUM3QyxXQUFvQixFQUFFO1FBQ3RCLGNBQXVCLEVBQUU7UUFDekIsVUFBbUIsRUFBRTtRQUNyQixTQUFrQixFQUFFO1FBQ3BCLHFCQUE4QixFQUFFO1FBQ2hDLGFBQXNCLEVBQUU7UUFDeEIsWUFBcUIsRUFBRTtJQUN6QjtJQUNBLE9BQU9BLFVBQVUsQ0FBQ1IsT0FBTyxJQUFJQTtBQUMvQjtBQUVBOztDQUVDLEdBQ00sU0FBU1MsMEJBQTBCUixLQUFzQjtJQUM5RCxNQUFNTyxhQUE4QztRQUNsRCxxQkFBbUMsRUFBRTtRQUNyQyx1QkFBcUMsRUFBRTtRQUN2QyxvQkFBa0MsRUFBRTtRQUNwQyxxQkFBbUMsRUFBRTtRQUNyQyxvQkFBa0MsRUFBRTtRQUNwQyxhQUEyQixFQUFFO0lBQy9CO0lBQ0EsT0FBT0EsVUFBVSxDQUFDUCxNQUFNLElBQUlBO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhcm1hY3ktYmVuZWZpdHMtcGxhdGZvcm0vLi9zcmMvdHlwZXMvZmlsZS50cz80ZjJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IHNyYy90eXBlcy9maWxlLnRzXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGZpbGUgcmVjb3JkIGluIHRoZSBzeXN0ZW1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlUmVjb3JkIHtcbiAgZmlsZUlkOiBzdHJpbmc7XG4gIG9wcG9ydHVuaXR5SWQ6IHN0cmluZztcbiAgcHJvZHVjdElkOiBzdHJpbmc7XG4gIG9yaWdpbmFsRmlsZW5hbWU6IHN0cmluZztcbiAgdXBsb2FkRGF0ZTogRGF0ZTtcbiAgczNMb2NhdGlvbjogc3RyaW5nO1xuICBzdGF0dXM6IEZpbGVTdGF0dXM7XG4gIGZpbGVTaXplOiBudW1iZXI7XG4gIG9yaWdpbmFsSGVhZGVyczogc3RyaW5nW107XG4gIHJvd0NvdW50OiBudW1iZXI7XG4gIHByb2Nlc3NpbmdTdGFnZTogUHJvY2Vzc2luZ1N0YWdlO1xuICBjcmVhdGVkQnk/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdD86IERhdGU7XG4gIHVwZGF0ZWRCeT86IHN0cmluZztcbiAgdXBkYXRlZEF0PzogRGF0ZTtcbn1cblxuLyoqXG4gKiBFbnVtIHJlcHJlc2VudGluZyBhbGwgcG9zc2libGUgZmlsZSBzdGF0dXNlc1xuICovXG5leHBvcnQgZW51bSBGaWxlU3RhdHVzIHtcbiAgUEVORElORyA9ICdQRU5ESU5HJywgICAgICAgICAgICAgICAvLyBGaWxlIGlzIGF3YWl0aW5nIGFjdGlvblxuICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLCAgICAgICAgIC8vIEZpbGUgaXMgYmVpbmcgcHJvY2Vzc2VkXG4gIE1BUFBFRCA9ICdNQVBQRUQnLCAgICAgICAgICAgICAgICAgLy8gRmlsZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgbWFwcGVkXG4gIEVSUk9SID0gJ0VSUk9SJywgICAgICAgICAgICAgICAgICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHByb2Nlc3NpbmdcbiAgUFJPQ0VTU0lOR19DTEFJTVMgPSAnUFJPQ0VTU0lOR19DTEFJTVMnLCAvLyBGaWxlIGlzIGJlaW5nIHByb2Nlc3NlZCB0byBjcmVhdGUgY2xhaW1zXG4gIFBST0NFU1NFRCA9ICdQUk9DRVNTRUQnLCAgICAgICAgICAgIC8vIENsYWltcyBwcm9jZXNzaW5nIGlzIGNvbXBsZXRlXG4gIEVOUklDSEVEID0gJ0VOUklDSEVEJyAgICAgICAgICAgICAgLy8gRmlsZSBoYXMgYmVlbiBlbnJpY2hlZCB3aXRoIGFkZGl0aW9uYWwgZGF0YVxufVxuXG4vKipcbiAqIEVudW0gcmVwcmVzZW50aW5nIGFsbCBwb3NzaWJsZSBwcm9jZXNzaW5nIHN0YWdlc1xuICovXG5leHBvcnQgZW51bSBQcm9jZXNzaW5nU3RhZ2Uge1xuICBSRUFEWV9GT1JfTUFQUElORyA9ICdSRUFEWV9GT1JfTUFQUElORycsICAgICAgICAgLy8gRmlsZSBpcyByZWFkeSBmb3IgZmllbGQgbWFwcGluZ1xuICBNQVBQSU5HX0lOX1BST0dSRVNTID0gJ01BUFBJTkdfSU5fUFJPR1JFU1MnLCAgICAgLy8gTWFwcGluZyBpcyBjdXJyZW50bHkgYmVpbmcgcGVyZm9ybWVkXG4gIE1BUFBJTkdfQ09NUExFVEUgPSAnTUFQUElOR19DT01QTEVURScsICAgICAgICAgICAvLyBNYXBwaW5nIGhhcyBiZWVuIGNvbXBsZXRlZFxuICBDTEFJTVNfUFJPQ0VTU0lORyA9ICdDTEFJTVNfUFJPQ0VTU0lORycsICAgICAgICAgLy8gQ29udmVydGluZyB0byBjbGFpbXMgcmVjb3Jkc1xuICBDTEFJTVNfUFJPQ0VTU0VEID0gJ0NMQUlNU19QUk9DRVNTRUQnLCAgICAgICAgICAgLy8gQ2xhaW1zIHByb2Nlc3NpbmcgY29tcGxldGVcbiAgUFJPQ0VTU0VEID0gJ1BST0NFU1NFRCcgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbGUgaXMgZnVsbHkgcHJvY2Vzc2VkXG59XG5cbi8qKlxuICogRGVmaW5lcyB2YWxpZCB0cmFuc2l0aW9ucyBiZXR3ZWVuIHByb2Nlc3Npbmcgc3RhZ2VzXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZFN0YWdlVHJhbnNpdGlvbnM6IFJlY29yZDxQcm9jZXNzaW5nU3RhZ2UsIFByb2Nlc3NpbmdTdGFnZVtdPiA9IHtcbiAgW1Byb2Nlc3NpbmdTdGFnZS5SRUFEWV9GT1JfTUFQUElOR106IFtcbiAgICBQcm9jZXNzaW5nU3RhZ2UuTUFQUElOR19JTl9QUk9HUkVTU1xuICBdLFxuICBbUHJvY2Vzc2luZ1N0YWdlLk1BUFBJTkdfSU5fUFJPR1JFU1NdOiBbXG4gICAgUHJvY2Vzc2luZ1N0YWdlLk1BUFBJTkdfQ09NUExFVEUsXG4gICAgUHJvY2Vzc2luZ1N0YWdlLlJFQURZX0ZPUl9NQVBQSU5HICAvLyBBbGxvdyBnb2luZyBiYWNrIGlmIG5lZWRlZFxuICBdLFxuICBbUHJvY2Vzc2luZ1N0YWdlLk1BUFBJTkdfQ09NUExFVEVdOiBbXG4gICAgUHJvY2Vzc2luZ1N0YWdlLkNMQUlNU19QUk9DRVNTSU5HLFxuICAgIFByb2Nlc3NpbmdTdGFnZS5NQVBQSU5HX0lOX1BST0dSRVNTICAvLyBBbGxvdyBjb3JyZWN0aW9uc1xuICBdLFxuICBbUHJvY2Vzc2luZ1N0YWdlLkNMQUlNU19QUk9DRVNTSU5HXTogW1xuICAgIFByb2Nlc3NpbmdTdGFnZS5DTEFJTVNfUFJPQ0VTU0VELFxuICAgIFByb2Nlc3NpbmdTdGFnZS5NQVBQSU5HX0NPTVBMRVRFICAvLyBBbGxvdyByZXRyeSBmcm9tIG1hcHBpbmdcbiAgXSxcbiAgW1Byb2Nlc3NpbmdTdGFnZS5DTEFJTVNfUFJPQ0VTU0VEXTogW1xuICAgIFByb2Nlc3NpbmdTdGFnZS5QUk9DRVNTRURcbiAgXSxcbiAgW1Byb2Nlc3NpbmdTdGFnZS5QUk9DRVNTRURdOiBbXSAgLy8gTm8gZnVydGhlciB0cmFuc2l0aW9ucyBhbGxvd2VkXG59O1xuXG4vKipcbiAqIERlZmluZXMgdmFsaWQgdHJhbnNpdGlvbnMgYmV0d2VlbiBmaWxlIHN0YXR1c2VzXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZFN0YXR1c1RyYW5zaXRpb25zOiBSZWNvcmQ8RmlsZVN0YXR1cywgRmlsZVN0YXR1c1tdPiA9IHtcbiAgW0ZpbGVTdGF0dXMuUEVORElOR106IFtcbiAgICBGaWxlU3RhdHVzLlBST0NFU1NJTkdcbiAgXSxcbiAgW0ZpbGVTdGF0dXMuUFJPQ0VTU0lOR106IFtcbiAgICBGaWxlU3RhdHVzLk1BUFBFRCxcbiAgICBGaWxlU3RhdHVzLkVSUk9SXG4gIF0sXG4gIFtGaWxlU3RhdHVzLk1BUFBFRF06IFtcbiAgICBGaWxlU3RhdHVzLlBST0NFU1NJTkdfQ0xBSU1TLFxuICAgIEZpbGVTdGF0dXMuRVJST1JcbiAgXSxcbiAgW0ZpbGVTdGF0dXMuUFJPQ0VTU0lOR19DTEFJTVNdOiBbXG4gICAgRmlsZVN0YXR1cy5QUk9DRVNTRUQsXG4gICAgRmlsZVN0YXR1cy5FUlJPUlxuICBdLFxuICBbRmlsZVN0YXR1cy5QUk9DRVNTRURdOiBbXG4gICAgRmlsZVN0YXR1cy5FTlJJQ0hFRCxcbiAgICBGaWxlU3RhdHVzLkVSUk9SXG4gIF0sXG4gIFtGaWxlU3RhdHVzLkVOUklDSEVEXTogW1xuICAgIEZpbGVTdGF0dXMuUFJPQ0VTU0VELCAgLy8gQWxsb3cgcmV2ZXJ0aW5nIHRvIHByb2Nlc3NlZCBpZiBuZWVkZWRcbiAgICBGaWxlU3RhdHVzLkVSUk9SXG4gIF0sXG4gIFtGaWxlU3RhdHVzLkVSUk9SXTogW1xuICAgIEZpbGVTdGF0dXMuUFJPQ0VTU0lORyxcbiAgICBGaWxlU3RhdHVzLlBST0NFU1NJTkdfQ0xBSU1TLFxuICAgIEZpbGVTdGF0dXMuUFJPQ0VTU0VEICAvLyBBbGxvdyByZXRyeWluZyBmcm9tIGVycm9yXG4gIF1cbn07XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIHN0YWdlIHRyYW5zaXRpb24gaXMgdmFsaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTdGFnZVRyYW5zaXRpb24oXG4gIGN1cnJlbnRTdGFnZTogUHJvY2Vzc2luZ1N0YWdlLFxuICBuZXdTdGFnZTogUHJvY2Vzc2luZ1N0YWdlXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbGlkU3RhZ2VUcmFuc2l0aW9uc1tjdXJyZW50U3RhZ2VdPy5pbmNsdWRlcyhuZXdTdGFnZSkgPz8gZmFsc2U7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhIHN0YXR1cyB0cmFuc2l0aW9uIGlzIHZhbGlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU3RhdHVzVHJhbnNpdGlvbihcbiAgY3VycmVudFN0YXR1czogRmlsZVN0YXR1cyxcbiAgbmV3U3RhdHVzOiBGaWxlU3RhdHVzXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbGlkU3RhdHVzVHJhbnNpdGlvbnNbY3VycmVudFN0YXR1c10/LmluY2x1ZGVzKG5ld1N0YXR1cykgPz8gZmFsc2U7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBpZiBhIGZpbGUgc2hvdWxkIGJlIHNob3duIGluIG1hcHBpbmcgdGFiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpbGVBdmFpbGFibGVGb3JNYXBwaW5nKGZpbGU6IEZpbGVSZWNvcmQpOiBib29sZWFuIHtcbiAgY29uc3QgdmFsaWRDb21iaW5hdGlvbnMgPSBbXG4gICAgeyBzdGF0dXM6IEZpbGVTdGF0dXMuUEVORElORywgc3RhZ2U6IFByb2Nlc3NpbmdTdGFnZS5SRUFEWV9GT1JfTUFQUElORyB9LFxuICAgIHsgc3RhdHVzOiBGaWxlU3RhdHVzLlBST0NFU1NJTkcsIHN0YWdlOiBQcm9jZXNzaW5nU3RhZ2UuTUFQUElOR19JTl9QUk9HUkVTUyB9LFxuICAgIHsgc3RhdHVzOiBGaWxlU3RhdHVzLk1BUFBFRCwgc3RhZ2U6IFByb2Nlc3NpbmdTdGFnZS5NQVBQSU5HX0NPTVBMRVRFIH0sXG4gICAgeyBzdGF0dXM6IEZpbGVTdGF0dXMuRVJST1IsIHN0YWdlOiBQcm9jZXNzaW5nU3RhZ2UuTUFQUElOR19JTl9QUk9HUkVTUyB9XG4gIF07XG5cbiAgcmV0dXJuIHZhbGlkQ29tYmluYXRpb25zLnNvbWUoXG4gICAgY29tYm8gPT4gY29tYm8uc3RhdHVzID09PSBmaWxlLnN0YXR1cyAmJiBjb21iby5zdGFnZSA9PT0gZmlsZS5wcm9jZXNzaW5nU3RhZ2VcbiAgKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGEgZmlsZSBpcyBpbiBhIGZpbmFsIHN0YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpbGVQcm9jZXNzaW5nQ29tcGxldGUoZmlsZTogRmlsZVJlY29yZCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZmlsZS5zdGF0dXMgPT09IEZpbGVTdGF0dXMuUFJPQ0VTU0VEICYmXG4gICAgICAgICBmaWxlLnByb2Nlc3NpbmdTdGFnZSA9PT0gUHJvY2Vzc2luZ1N0YWdlLlBST0NFU1NFRDtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIGEgZmlsZSBjYW4gYmUgcHJvY2Vzc2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5Qcm9jZXNzRmlsZShmaWxlOiBGaWxlUmVjb3JkKTogYm9vbGVhbiB7XG4gIHJldHVybiBmaWxlLnN0YXR1cyA9PT0gRmlsZVN0YXR1cy5NQVBQRUQgJiZcbiAgICAgICAgIGZpbGUucHJvY2Vzc2luZ1N0YWdlID09PSBQcm9jZXNzaW5nU3RhZ2UuTUFQUElOR19DT01QTEVURTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGRpc3BsYXkgdGV4dCBmb3IgZmlsZSBzdGF0dXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVTdGF0dXNEaXNwbGF5KHN0YXR1czogRmlsZVN0YXR1cyk6IHN0cmluZyB7XG4gIGNvbnN0IGRpc3BsYXlNYXA6IFJlY29yZDxGaWxlU3RhdHVzLCBzdHJpbmc+ID0ge1xuICAgIFtGaWxlU3RhdHVzLlBFTkRJTkddOiAnUGVuZGluZycsXG4gICAgW0ZpbGVTdGF0dXMuUFJPQ0VTU0lOR106ICdQcm9jZXNzaW5nJyxcbiAgICBbRmlsZVN0YXR1cy5NQVBQRURdOiAnTWFwcGVkJyxcbiAgICBbRmlsZVN0YXR1cy5FUlJPUl06ICdFcnJvcicsXG4gICAgW0ZpbGVTdGF0dXMuUFJPQ0VTU0lOR19DTEFJTVNdOiAnUHJvY2Vzc2luZyBDbGFpbXMnLFxuICAgIFtGaWxlU3RhdHVzLlBST0NFU1NFRF06ICdQcm9jZXNzZWQnLFxuICAgIFtGaWxlU3RhdHVzLkVOUklDSEVEXTogJ0VucmljaGVkJ1xuICB9O1xuICByZXR1cm4gZGlzcGxheU1hcFtzdGF0dXNdIHx8IHN0YXR1cztcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGRpc3BsYXkgdGV4dCBmb3IgcHJvY2Vzc2luZyBzdGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvY2Vzc2luZ1N0YWdlRGlzcGxheShzdGFnZTogUHJvY2Vzc2luZ1N0YWdlKTogc3RyaW5nIHtcbiAgY29uc3QgZGlzcGxheU1hcDogUmVjb3JkPFByb2Nlc3NpbmdTdGFnZSwgc3RyaW5nPiA9IHtcbiAgICBbUHJvY2Vzc2luZ1N0YWdlLlJFQURZX0ZPUl9NQVBQSU5HXTogJ1JlYWR5IGZvciBNYXBwaW5nJyxcbiAgICBbUHJvY2Vzc2luZ1N0YWdlLk1BUFBJTkdfSU5fUFJPR1JFU1NdOiAnTWFwcGluZyBpbiBQcm9ncmVzcycsXG4gICAgW1Byb2Nlc3NpbmdTdGFnZS5NQVBQSU5HX0NPTVBMRVRFXTogJ01hcHBpbmcgQ29tcGxldGUnLFxuICAgIFtQcm9jZXNzaW5nU3RhZ2UuQ0xBSU1TX1BST0NFU1NJTkddOiAnUHJvY2Vzc2luZyBDbGFpbXMnLFxuICAgIFtQcm9jZXNzaW5nU3RhZ2UuQ0xBSU1TX1BST0NFU1NFRF06ICdDbGFpbXMgUHJvY2Vzc2VkJyxcbiAgICBbUHJvY2Vzc2luZ1N0YWdlLlBST0NFU1NFRF06ICdQcm9jZXNzZWQnXG4gIH07XG4gIHJldHVybiBkaXNwbGF5TWFwW3N0YWdlXSB8fCBzdGFnZTtcbn0iXSwibmFtZXMiOlsiRmlsZVN0YXR1cyIsIlByb2Nlc3NpbmdTdGFnZSIsInZhbGlkU3RhZ2VUcmFuc2l0aW9ucyIsInZhbGlkU3RhdHVzVHJhbnNpdGlvbnMiLCJpc1ZhbGlkU3RhZ2VUcmFuc2l0aW9uIiwiY3VycmVudFN0YWdlIiwibmV3U3RhZ2UiLCJpbmNsdWRlcyIsImlzVmFsaWRTdGF0dXNUcmFuc2l0aW9uIiwiY3VycmVudFN0YXR1cyIsIm5ld1N0YXR1cyIsImlzRmlsZUF2YWlsYWJsZUZvck1hcHBpbmciLCJmaWxlIiwidmFsaWRDb21iaW5hdGlvbnMiLCJzdGF0dXMiLCJzdGFnZSIsInNvbWUiLCJjb21ibyIsInByb2Nlc3NpbmdTdGFnZSIsImlzRmlsZVByb2Nlc3NpbmdDb21wbGV0ZSIsImNhblByb2Nlc3NGaWxlIiwiZ2V0RmlsZVN0YXR1c0Rpc3BsYXkiLCJkaXNwbGF5TWFwIiwiZ2V0UHJvY2Vzc2luZ1N0YWdlRGlzcGxheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/file.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&page=%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffiles%2F%5BfileId%5D%2Fmapping%2Froute.ts&appDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdushyantsingh%2FDocuments%2Filluminate-rx%20copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();